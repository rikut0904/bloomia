# Bloomia - ä¸­å­¦æ ¡å‘ã‘çµ±åˆå­¦ç¿’ãƒ»å…¬å‹™æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ“‹ ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ³ã‚»ãƒ—ãƒˆ
Bloomiaã¯ä¸­å­¦ç”Ÿã®ã€Œå­¦ã³ãŸã„ã€ã¨ã„ã†æ°—æŒã¡ã‚’è‚²ã¿ã€æ•™å¸«ã®æ•™è‚²æ´»å‹•ã¨å…¬å‹™æ¥­å‹™ã‚’çµ±åˆçš„ã«æ”¯æ´ã™ã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚ç”Ÿå¾’ä¸€äººã²ã¨ã‚Šã®å­¦ç¿’æ„æ¬²ã‚’è‡ªç„¶ã¨å¼•ãå‡ºã—ã€æ•™å¸«ã®æ•™è‚²æ´»å‹•ã¨å…¬å‹™æ¥­å‹™ã‚’ä¸€ã¤ã®ã‚·ã‚¹ãƒ†ãƒ ã§åŠ¹ç‡åŒ–ã—ã€å­¦æ ¡å…¨ä½“ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ´»æ€§åŒ–ã—ã¾ã™ã€‚

### å¯¾è±¡ãƒ»è¦æ¨¡
- **ä¸»è¦å¯¾è±¡**: ä¸­å­¦æ ¡ï¼ˆ1-3å¹´ç”Ÿï¼‰ã€ä¸­å­¦æ ¡æ•™è«­
- **å°å…¥å½¢æ…‹**: æ•™è‚²å§”å“¡ä¼šãƒ¬ãƒ™ãƒ«ã§ã®ä¸€æ‹¬å°å…¥
- **æƒ³å®šè¦æ¨¡**: 1æ ¡450åï¼ˆç”Ÿå¾’420å + æ•™è·å“¡30åï¼‰
- **åŒæ™‚æ¥ç¶š**: æœ€å¤§500ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆæˆæ¥­æ™‚é–“ä¸­300-400ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆVercelï¼‰**
- Next.js 15ï¼ˆApp Routerï¼‰+ React 18
- TypeScript + Tailwind CSS 4
- Auth0 Next.js SDK
- PWAå¯¾å¿œï¼ˆnext-pwaï¼‰

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆRailwayçµ±åˆç®¡ç†ï¼‰**
- Go 1.24 + Chi Router
- PostgreSQL 14ï¼ˆãƒ¡ã‚¤ãƒ³DBï¼‰
- Redis 7ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰
- Railway Volumesï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ 50GBï¼‰

**å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹**
- Auth0ï¼ˆèªè¨¼ãƒ»èªå¯ï¼‰
- Vercelï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é…ä¿¡ï¼‰
- Railwayï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ©ï¼‰

**ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åŸå‰‡**
- Clean Architectureï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆï¼‰
- API Firstï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç‹¬ç«‹è¨­è¨ˆï¼‰
- ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆï¼ˆå­¦æ ¡åˆ¥å®Œå…¨ãƒ‡ãƒ¼ã‚¿åˆ†é›¢ï¼‰
- ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ï¼ˆæ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¯¾å¿œï¼‰

---

## ğŸ—‚ï¸ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆGo + Clean Architectureï¼‰
```
backend/
â”œâ”€â”€ cmd/server/              # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ domain/              # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤
â”‚   â”‚   â”œâ”€â”€ entities/        # User, Course, Assignmentç­‰
â”‚   â”‚   â”œâ”€â”€ repositories/    # ãƒªãƒã‚¸ãƒˆãƒªIF
â”‚   â”‚   â””â”€â”€ services/        # ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ usecase/             # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤
â”‚   â”‚   â”œâ”€â”€ auth/           # èªè¨¼
â”‚   â”‚   â”œâ”€â”€ lms/            # å­¦ç¿’ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ chat/           # ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ whiteboard/     # ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ notes/          # ãƒãƒ¼ãƒˆæ©Ÿèƒ½
â”‚   â”‚   â””â”€â”€ admin/          # å…¬å‹™æ”¯æ´
â”‚   â”œâ”€â”€ infrastructure/      # ã‚¤ãƒ³ãƒ•ãƒ©å±¤
â”‚   â”‚   â”œâ”€â”€ database/       # PostgreSQL
â”‚   â”‚   â”œâ”€â”€ cache/          # Redis
â”‚   â”‚   â”œâ”€â”€ storage/        # Railway Volumes
â”‚   â”‚   â””â”€â”€ auth/           # Auth0
â”‚   â””â”€â”€ interface/           # ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å±¤
â”‚       â”œâ”€â”€ http/           # HTTPãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚       â”œâ”€â”€ websocket/      # WebSocket
â”‚       â””â”€â”€ middleware/     # èªè¨¼ãƒ»èªå¯
â”œâ”€â”€ migrations/              # DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â””â”€â”€ docker-compose.yml       # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆNext.js App Routerï¼‰
```
frontend/
â”œâ”€â”€ app/                     # App Router
â”‚   â”œâ”€â”€ (public)/           # å…¬é–‹ãƒšãƒ¼ã‚¸ã‚°ãƒ«ãƒ¼ãƒ—
â”‚   â”‚   â”œâ”€â”€ page.tsx        # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ about/          # ã‚µãƒ¼ãƒ“ã‚¹ç´¹ä»‹
â”‚   â”‚   â”œâ”€â”€ features/       # æ©Ÿèƒ½è©³ç´°
â”‚   â”‚   â”œâ”€â”€ contact/        # ãŠå•ã„åˆã‚ã›
â”‚   â”‚   â””â”€â”€ login/          # ãƒ­ã‚°ã‚¤ãƒ³
â”‚   â”œâ”€â”€ home/               # èªè¨¼å¾Œãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
â”‚   â”‚   â”œâ”€â”€ dashboard/      # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ student/    # ç”Ÿå¾’ç”¨
â”‚   â”‚   â”‚   â””â”€â”€ teacher/    # æ•™å¸«ç”¨
â”‚   â”‚   â”œâ”€â”€ materials/      # æ•™æç®¡ç†
â”‚   â”‚   â”œâ”€â”€ assignments/    # èª²é¡Œç®¡ç†
â”‚   â”‚   â”œâ”€â”€ grades/        # æˆç¸¾ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ chat/          # ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ notes/         # ãƒãƒ¼ãƒˆæ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ whiteboard/    # ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ schedule/      # æ™‚é–“å‰²
â”‚   â”‚   â”œâ”€â”€ attendance/    # å‡ºå¸­ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ gamification/  # ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â””â”€â”€ layout.tsx     # ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ admin/             # ç®¡ç†è€…å°‚ç”¨
â”‚   â”‚   â”œâ”€â”€ dashboard/     # ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ users/         # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ schools/       # å­¦æ ¡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ analytics/     # çµ±è¨ˆåˆ†æ
â”‚   â”‚   â”œâ”€â”€ system/        # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†
â”‚   â”‚   â””â”€â”€ layout.tsx     # ç®¡ç†ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ help/              # ãƒ˜ãƒ«ãƒ—ãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ api/               # API Routes
â”œâ”€â”€ components/             # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ui/                # åŸºæœ¬UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ forms/             # ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ charts/            # ã‚°ãƒ©ãƒ•ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ layout/            # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ styles/                # ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ globals.css        # ã‚°ãƒ­ãƒ¼ãƒãƒ«CSS
â”‚   â”œâ”€â”€ themes.css         # ã‚³ãƒ¼ãƒ©ãƒ«ãƒ†ãƒ¼ãƒ
â”‚   â””â”€â”€ components.css     # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ lib/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â””â”€â”€ public/                # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
```

---

## ğŸ” æ¨©é™ç®¡ç†

### æ¨©é™éšå±¤
```
1. ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ï¼ˆadminï¼‰
   â””â”€ å…¨å­¦æ ¡ãƒ»å…¨æ©Ÿèƒ½ã‚¢ã‚¯ã‚»ã‚¹

2. å­¦æ ¡ç®¡ç†è€…ï¼ˆschool_adminï¼‰
   â””â”€ è‡ªæ ¡å†…ãƒ»å…¨æ©Ÿèƒ½ã‚¢ã‚¯ã‚»ã‚¹

3. æ•™å“¡ï¼ˆteacherï¼‰
   â””â”€ è‡ªæ ¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† + æ‹…å½“æ•™ç§‘ + è‡ªæ ¡å…¬å‹™ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹

4. ç”Ÿå¾’ï¼ˆstudentï¼‰
   â””â”€ è‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿ + è‡ªæ ¡ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
```

### æ©Ÿèƒ½åˆ¥æ¨©é™ãƒãƒˆãƒªãƒƒã‚¯ã‚¹

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | ç®¡ç†è€… | å­¦æ ¡ç®¡ç†è€… | æ•™å“¡ | ç”Ÿå¾’ |
|-------------|-------|------------|------|------|
| **å­¦æ ¡ç®¡ç†** | å…¨æ ¡ | è‡ªæ ¡ | é–²è¦§ã®ã¿ | ãªã— |
| **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†** | å…¨æ ¡ | è‡ªæ ¡ | è‡ªæ ¡ | è‡ªåˆ†ã®ã¿ |
| **æ•™æç®¡ç†** | å…¨æ ¡ | è‡ªæ ¡ | æ‹…å½“æ•™ç§‘ | é–²è¦§ã®ã¿ |
| **èª²é¡Œç®¡ç†** | å…¨æ ¡ | è‡ªæ ¡ | æ‹…å½“æ•™ç§‘ | æå‡ºã®ã¿ |
| **æˆç¸¾ç®¡ç†** | å…¨æ ¡ | è‡ªæ ¡ | æ‹…å½“ç”Ÿå¾’ | è‡ªåˆ†ã®ã¿ |
| **ãƒãƒ£ãƒƒãƒˆ** | å…¨æ ¡ | è‡ªæ ¡ | è‡ªæ ¡ | è‡ªæ ¡ |
| **å…¬å‹™æ©Ÿèƒ½** | å…¨æ ¡ | è‡ªæ ¡ | è‡ªæ ¡ | ãªã— |
| **ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰** | å…¨æ ¡ | è‡ªæ ¡ | ç®¡ç†å¯ | å‚åŠ ã®ã¿ |
| **ãƒãƒ¼ãƒˆ** | å…¨æ ¡é–²è¦§ | è‡ªæ ¡é–²è¦§ | æ‹…å½“ç”Ÿå¾’é–²è¦§ | è‡ªåˆ†ã®ã¿ |

---

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### åŸºæœ¬æ§‹é€ ãƒ†ãƒ¼ãƒ–ãƒ«
```sql
-- å­¦æ ¡æƒ…å ±
CREATE TABLE schools (
    id BIGSERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    code TEXT UNIQUE NOT NULL,
    email_domain TEXT UNIQUE,
    theme_color TEXT DEFAULT '#FF7F50',
    background_color TEXT DEFAULT '#fdf8f0',
    logo_url TEXT,
    address TEXT,
    phone_number TEXT,
    principal_name TEXT,
    vice_principal_name TEXT,
    student_capacity INTEGER DEFAULT 500,
    settings JSONB DEFAULT '{"theme": "coral", "background": "#fdf8f0"}',
    academic_year_start INTEGER DEFAULT 4,
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- åŸºæœ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
CREATE TABLE users (
    id BIGSERIAL PRIMARY KEY,
    uid TEXT UNIQUE NOT NULL,           -- Auth0 ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
    name TEXT NOT NULL,
    furigana TEXT,
    email TEXT UNIQUE NOT NULL,
    avatar_url TEXT,
    role TEXT NOT NULL DEFAULT 'student',
    school_id BIGINT NOT NULL REFERENCES schools(id),
    class_id BIGINT REFERENCES classes(id),
    student_number TEXT,
    grade INTEGER CHECK (grade BETWEEN 1 AND 3),
    guardian_name_encrypted TEXT,
    guardian_phone_encrypted TEXT,
    guardian_email_encrypted TEXT,
    is_active BOOLEAN DEFAULT true,
    is_approved BOOLEAN DEFAULT false,
    ui_preferences JSONB DEFAULT '{"theme": "coral", "background": "#fdf8f0"}',
    last_login_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    
    UNIQUE(school_id, student_number),
    CHECK (role IN ('admin', 'school_admin', 'teacher', 'student'))
);

-- æ•™å“¡è©³ç´°æƒ…å ±
CREATE TABLE teachers (
    id BIGSERIAL PRIMARY KEY,
    user_id BIGINT UNIQUE NOT NULL REFERENCES users(id),
    employee_id TEXT UNIQUE NOT NULL,
    position TEXT NOT NULL,
    specialization TEXT[],
    homeroom_class_id BIGINT REFERENCES classes(id),
    hire_date DATE,
    department TEXT,
    office_location TEXT,
    extension_number TEXT,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ã‚¯ãƒ©ã‚¹æƒ…å ±
CREATE TABLE classes (
    id BIGSERIAL PRIMARY KEY,
    school_id BIGINT NOT NULL REFERENCES schools(id),
    name TEXT NOT NULL,
    grade INTEGER NOT NULL CHECK (grade BETWEEN 1 AND 3),
    academic_year INTEGER NOT NULL,
    homeroom_teacher_id BIGINT REFERENCES teachers(id),
    sub_teacher_id BIGINT REFERENCES teachers(id),
    max_students INTEGER DEFAULT 40,
    current_students INTEGER DEFAULT 0,
    classroom TEXT,
    class_motto TEXT,
    class_color TEXT DEFAULT '#FF7F50',
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    
    UNIQUE(school_id, name, academic_year)
);

-- æ•™ç§‘
CREATE TABLE subjects (
    id BIGSERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    code TEXT UNIQUE NOT NULL,
    color_code TEXT DEFAULT '#FF7F50',
    icon_name TEXT,
    description TEXT,
    category TEXT DEFAULT 'main',
    credit_hours INTEGER DEFAULT 1,
    sort_order INTEGER DEFAULT 0,
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- æˆæ¥­
CREATE TABLE courses (
    id BIGSERIAL PRIMARY KEY,
    subject_id BIGINT NOT NULL REFERENCES subjects(id),
    class_id BIGINT NOT NULL REFERENCES classes(id),
    teacher_id BIGINT NOT NULL REFERENCES teachers(id),
    course_name TEXT NOT NULL,
    description TEXT,
    academic_year INTEGER NOT NULL,
    semester INTEGER NOT NULL CHECK (semester BETWEEN 1 AND 3),
    weekly_hours INTEGER DEFAULT 1,
    classroom TEXT,
    textbook TEXT,
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    
    UNIQUE(subject_id, class_id, academic_year, semester)
);

-- æ•™æ
CREATE TABLE materials (
    id BIGSERIAL PRIMARY KEY,
    course_id BIGINT NOT NULL REFERENCES courses(id),
    title TEXT NOT NULL,
    description TEXT,
    material_type TEXT NOT NULL CHECK (material_type IN ('pdf', 'video', 'image', 'url', 'text')),
    file_url TEXT,
    file_name TEXT,
    file_size BIGINT,
    thumbnail_url TEXT,
    content_text TEXT,
    difficulty_level TEXT DEFAULT 'medium',
    estimated_minutes INTEGER,
    download_count INTEGER DEFAULT 0,
    view_count INTEGER DEFAULT 0,
    is_published BOOLEAN DEFAULT false,
    published_at TIMESTAMPTZ,
    expires_at TIMESTAMPTZ,
    created_by BIGINT NOT NULL REFERENCES users(id),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- èª²é¡Œ
CREATE TABLE assignments (
    id BIGSERIAL PRIMARY KEY,
    course_id BIGINT NOT NULL REFERENCES courses(id),
    title TEXT NOT NULL,
    description TEXT,
    instructions TEXT,
    assignment_type TEXT NOT NULL CHECK (assignment_type IN ('text', 'file', 'choice', 'mixed')),
    max_points INTEGER DEFAULT 100,
    min_passing_points INTEGER DEFAULT 60,
    difficulty_level TEXT DEFAULT 'medium',
    estimated_minutes INTEGER,
    file_size_limit BIGINT DEFAULT 10485760,
    allowed_file_types TEXT[],
    rubric JSONB,
    due_date TIMESTAMPTZ,
    late_submission_penalty DECIMAL(3,2) DEFAULT 0.1,
    allow_late_submission BOOLEAN DEFAULT true,
    is_published BOOLEAN DEFAULT false,
    published_at TIMESTAMPTZ,
    created_by BIGINT NOT NULL REFERENCES teachers(id),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- æå‡ºç‰©
CREATE TABLE submissions (
    id BIGSERIAL PRIMARY KEY,
    assignment_id BIGINT NOT NULL REFERENCES assignments(id),
    student_id BIGINT NOT NULL REFERENCES users(id),
    content TEXT,
    file_url TEXT,
    file_name TEXT,
    file_size BIGINT,
    points INTEGER,
    feedback TEXT,
    status TEXT DEFAULT 'submitted',
    is_late BOOLEAN DEFAULT false,
    submitted_at TIMESTAMPTZ DEFAULT NOW(),
    graded_at TIMESTAMPTZ,
    graded_by BIGINT REFERENCES teachers(id),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    
    UNIQUE(assignment_id, student_id)
);

-- æˆç¸¾
CREATE TABLE grades (
    id BIGSERIAL PRIMARY KEY,
    student_id BIGINT NOT NULL REFERENCES users(id),
    course_id BIGINT NOT NULL REFERENCES courses(id),
    assignment_id BIGINT REFERENCES assignments(id),
    grade_type TEXT NOT NULL,
    points INTEGER NOT NULL,
    max_points INTEGER NOT NULL,
    percentage DECIMAL(5,2) GENERATED ALWAYS AS ((points::DECIMAL / max_points) * 100) STORED,
    semester INTEGER NOT NULL CHECK (semester BETWEEN 1 AND 3),
    academic_year INTEGER NOT NULL,
    graded_by BIGINT NOT NULL REFERENCES teachers(id),
    graded_at TIMESTAMPTZ DEFAULT NOW(),
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- å‡ºå¸­
CREATE TABLE attendance (
    id BIGSERIAL PRIMARY KEY,
    student_id BIGINT NOT NULL REFERENCES users(id),
    course_id BIGINT NOT NULL REFERENCES courses(id),
    attendance_date DATE NOT NULL,
    period INTEGER NOT NULL CHECK (period BETWEEN 1 AND 6),
    status TEXT NOT NULL CHECK (status IN ('present', 'absent', 'late', 'sick', 'official')),
    reason TEXT,
    recorded_by BIGINT NOT NULL REFERENCES teachers(id),
    recorded_at TIMESTAMPTZ DEFAULT NOW(),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    
    UNIQUE(student_id, course_id, attendance_date, period)
);

-- ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ï¼ˆå­¦æ ¡å˜ä½åˆ¶ç´„ï¼‰
CREATE TABLE chat_rooms (
    id BIGSERIAL PRIMARY KEY,
    school_id BIGINT NOT NULL REFERENCES schools(id),
    name TEXT NOT NULL,
    room_type TEXT NOT NULL CHECK (room_type IN ('class', 'subject', 'grade', 'school', 'direct', 'club')),
    description TEXT,
    room_color TEXT DEFAULT '#FF7F50',
    class_id BIGINT REFERENCES classes(id),
    course_id BIGINT REFERENCES courses(id),
    target_grade INTEGER CHECK (target_grade BETWEEN 1 AND 3),
    is_private BOOLEAN DEFAULT false,
    max_participants INTEGER DEFAULT 100,
    allow_file_upload BOOLEAN DEFAULT true,
    is_active BOOLEAN DEFAULT true,
    created_by BIGINT NOT NULL REFERENCES users(id),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    
    UNIQUE(school_id, name, room_type)
);

-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
CREATE TABLE messages (
    id BIGSERIAL PRIMARY KEY,
    room_id BIGINT NOT NULL REFERENCES chat_rooms(id),
    sender_id BIGINT NOT NULL REFERENCES users(id),
    message TEXT NOT NULL,
    message_type TEXT DEFAULT 'text',
    file_url TEXT,
    file_name TEXT,
    reply_to BIGINT REFERENCES messages(id),
    mention_users BIGINT[],
    is_deleted BOOLEAN DEFAULT false,
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã‚»ãƒƒã‚·ãƒ§ãƒ³
CREATE TABLE whiteboard_sessions (
    id BIGSERIAL PRIMARY KEY,
    school_id BIGINT NOT NULL REFERENCES schools(id),
    course_id BIGINT NOT NULL REFERENCES courses(id),
    title TEXT NOT NULL,
    session_type TEXT DEFAULT 'lesson',
    presenter_id BIGINT NOT NULL REFERENCES teachers(id),
    canvas_data JSONB DEFAULT '{}',
    background_color TEXT DEFAULT '#fdf8f0',
    is_active BOOLEAN DEFAULT false,
    participant_count INTEGER DEFAULT 0,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    started_at TIMESTAMPTZ,
    ended_at TIMESTAMPTZ
);

-- å­¦ç¿’ãƒãƒ¼ãƒˆ
CREATE TABLE learning_notes (
    id BIGSERIAL PRIMARY KEY,
    student_id BIGINT NOT NULL REFERENCES users(id),
    course_id BIGINT REFERENCES courses(id),
    title TEXT NOT NULL,
    content TEXT NOT NULL,
    note_type TEXT DEFAULT 'personal',
    cover_color TEXT DEFAULT '#FF7F50',
    tags TEXT[],
    is_favorite BOOLEAN DEFAULT false,
    is_shared BOOLEAN DEFAULT false,
    shared_with_teacher BOOLEAN DEFAULT false,
    version INTEGER DEFAULT 1,
    word_count INTEGER DEFAULT 0,
    related_assignment_id BIGINT REFERENCES assignments(id),
    related_material_id BIGINT REFERENCES materials(id),
    last_accessed_at TIMESTAMPTZ DEFAULT NOW(),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- æ ¡å‹™åˆ†æŒæ¥­å‹™
CREATE TABLE administrative_tasks (
    id BIGSERIAL PRIMARY KEY,
    school_id BIGINT NOT NULL REFERENCES schools(id),
    title TEXT NOT NULL,
    description TEXT,
    category TEXT NOT NULL,
    assigned_to BIGINT NOT NULL REFERENCES teachers(id),
    collaborators BIGINT[],
    priority TEXT DEFAULT 'medium',
    status TEXT DEFAULT 'pending',
    progress_percentage INTEGER DEFAULT 0,
    due_date TIMESTAMPTZ,
    estimated_hours DECIMAL(4,2),
    actual_hours DECIMAL(4,2),
    requires_approval BOOLEAN DEFAULT false,
    approved_by BIGINT REFERENCES teachers(id),
    created_by BIGINT NOT NULL REFERENCES teachers(id),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ä¼šè­°ç®¡ç†
CREATE TABLE meetings (
    id BIGSERIAL PRIMARY KEY,
    school_id BIGINT NOT NULL REFERENCES schools(id),
    title TEXT NOT NULL,
    meeting_type TEXT NOT NULL,
    start_time TIMESTAMPTZ NOT NULL,
    end_time TIMESTAMPTZ NOT NULL,
    location TEXT,
    organizer_id BIGINT NOT NULL REFERENCES teachers(id),
    status TEXT DEFAULT 'scheduled',
    agenda JSONB,
    minutes TEXT,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
CREATE TABLE user_points (
    id BIGSERIAL PRIMARY KEY,
    user_id BIGINT NOT NULL REFERENCES users(id),
    points INTEGER NOT NULL,
    point_type TEXT NOT NULL,
    source_id BIGINT,
    description TEXT,
    semester INTEGER NOT NULL,
    academic_year INTEGER NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE TABLE achievements (
    id BIGSERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    description TEXT,
    icon_url TEXT,
    icon_color TEXT DEFAULT '#FF7F50',
    background_color TEXT DEFAULT '#fdf8f0',
    category TEXT NOT NULL,
    rarity TEXT DEFAULT 'common',
    points_reward INTEGER DEFAULT 0,
    conditions JSONB NOT NULL,
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMPTZ DEFAULT NOW()
);
```

---

## ğŸŒ ç’°å¢ƒãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤è¨­è¨ˆ

### ç’°å¢ƒæ§‹æˆ
```
é–‹ç™ºç’°å¢ƒï¼ˆDevelopmentï¼‰
â”œâ”€â”€ Next.js dev server (localhost:3000)
â”œâ”€â”€ Go server (localhost:8080)
â”œâ”€â”€ PostgreSQL (localhost:5432)
â””â”€â”€ Redis (localhost:6379)

ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒ
â”œâ”€â”€ Vercel (staging.bloomia.com)
â”œâ”€â”€ Railway API (api-staging.railway.app)
â”œâ”€â”€ Railway PostgreSQL
â””â”€â”€ Railway Redis

æœ¬ç•ªç’°å¢ƒ
â”œâ”€â”€ Vercel (bloomia.com)
â”œâ”€â”€ Railway API (api.railway.app)
â”œâ”€â”€ Railway PostgreSQL
â””â”€â”€ Railway Redis
```

### ç’°å¢ƒå¤‰æ•°è¨­è¨ˆ
```bash
# å…±é€šè¨­å®š
NODE_ENV=development|staging|production
APP_ENV=dev|staging|prod

# ãƒ†ãƒ¼ãƒè¨­å®š
DEFAULT_THEME_COLOR=#FF7F50
DEFAULT_BACKGROUND_COLOR=#fdf8f0
THEME_NAME=coral

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
DATABASE_URL=postgresql://...
REDIS_URL=redis://...

# èªè¨¼ï¼ˆAuth0ï¼‰
AUTH0_DOMAIN=bloomia-dev.auth0.com
AUTH0_CLIENT_ID=your-client-id
AUTH0_CLIENT_SECRET=your-client-secret
AUTH0_AUDIENCE=https://api.bloomia.com

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
API_BASE_URL=http://localhost:8080|https://api.bloomia.com
FRONTEND_URL=http://localhost:3000|https://bloomia.com
WEBSOCKET_URL=ws://localhost:8080/ws|wss://api.bloomia.com/ws

# Railwayè¨­å®š
RAILWAY_STORAGE_PATH=/app/storage
PORT=8080

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
ENCRYPTION_KEY=your-32-char-key
JWT_SECRET=your-jwt-secret
SESSION_SECRET=your-session-secret

# æ©Ÿèƒ½ãƒ•ãƒ©ã‚°
ENABLE_WHITEBOARD=true
ENABLE_NOTES=true
ENABLE_GAMIFICATION=true
CORAL_THEME_ONLY=true
```

---

## ğŸ”Œ APIè¨­è¨ˆ

### RESTful API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
```http
POST   /api/v1/auth/sync              # Auth0åŒæœŸ
GET    /api/v1/users                  # ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ï¼ˆæ•™å“¡ï¼šè‡ªæ ¡ã€ç®¡ç†è€…ï¼šå…¨æ ¡ï¼‰
POST   /api/v1/users/students         # ç”Ÿå¾’ä½œæˆï¼ˆæ•™å“¡æ¨©é™ï¼‰
PUT    /api/v1/users/{id}             # ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–°
GET    /api/v1/users/{id}/permissions # ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™å–å¾—
```

#### å­¦ç¿’ç®¡ç†
```http
GET    /api/v1/courses/{id}/materials # æ•™æä¸€è¦§
POST   /api/v1/materials              # æ•™æä½œæˆ
PUT    /api/v1/materials/{id}         # æ•™ææ›´æ–°
DELETE /api/v1/materials/{id}         # æ•™æå‰Šé™¤

GET    /api/v1/assignments            # èª²é¡Œä¸€è¦§
POST   /api/v1/assignments            # èª²é¡Œä½œæˆ
POST   /api/v1/assignments/{id}/submissions # æå‡º
PUT    /api/v1/submissions/{id}/grade # æ¡ç‚¹

GET    /api/v1/students/{id}/grades   # æˆç¸¾å–å¾—
POST   /api/v1/grades                 # æˆç¸¾å…¥åŠ›
GET    /api/v1/attendance             # å‡ºå¸­ç¢ºèª
POST   /api/v1/attendance             # å‡ºå¸­ç™»éŒ²
```

#### ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå­¦æ ¡å˜ä½ï¼‰
```http
GET    /api/v1/chat/school-rooms      # å­¦æ ¡ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ä¸€è¦§
POST   /api/v1/chat/school-rooms      # ãƒ«ãƒ¼ãƒ ä½œæˆï¼ˆæ•™å“¡ä»¥ä¸Šï¼‰
GET    /api/v1/chat/rooms/{id}/messages # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—
POST   /api/v1/chat/rooms/{id}/messages # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
GET    /api/v1/notifications          # é€šçŸ¥ä¸€è¦§
```

#### ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰
```http
POST   /api/v1/whiteboard/sessions    # ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹ï¼ˆæ•™å“¡ï¼‰
GET    /api/v1/whiteboard/sessions/{id} # ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±
POST   /api/v1/whiteboard/sessions/{id}/join # ã‚»ãƒƒã‚·ãƒ§ãƒ³å‚åŠ 
WebSocket: /ws/whiteboard             # ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æç”»
```

#### ãƒãƒ¼ãƒˆæ©Ÿèƒ½
```http
GET    /api/v1/notes                  # ãƒãƒ¼ãƒˆä¸€è¦§
POST   /api/v1/notes                  # ãƒãƒ¼ãƒˆä½œæˆ
PUT    /api/v1/notes/{id}             # ãƒãƒ¼ãƒˆæ›´æ–°
DELETE /api/v1/notes/{id}             # ãƒãƒ¼ãƒˆå‰Šé™¤
POST   /api/v1/notes/{id}/share       # ãƒãƒ¼ãƒˆå…±æœ‰
GET    /api/v1/notes/templates        # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§
```

#### å…¬å‹™æ”¯æ´ï¼ˆè‡ªæ ¡ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
```http
GET    /api/v1/admin/tasks            # æ ¡å‹™æ¥­å‹™ä¸€è¦§ï¼ˆæ•™å“¡ï¼šè‡ªæ ¡å…¨ä½“ï¼‰
POST   /api/v1/admin/tasks            # æ¥­å‹™ä½œæˆ
PUT    /api/v1/admin/tasks/{id}       # æ¥­å‹™æ›´æ–°
GET    /api/v1/meetings               # ä¼šè­°ä¸€è¦§
POST   /api/v1/meetings               # ä¼šè­°ä½œæˆ
```

### ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
```http
POST   /api/v1/files/upload/{type}    # ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
GET    /api/v1/files/{id}             # ãƒ•ã‚¡ã‚¤ãƒ«å–å¾—
DELETE /api/v1/files/{id}             # ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤

# Railway Volumesæ§‹é€ 
/app/storage/
â”œâ”€â”€ materials/{school_id}/{subject}/
â”œâ”€â”€ submissions/{school_id}/{assignment_id}/{student_id}/
â”œâ”€â”€ notes/{school_id}/{student_id}/
â”œâ”€â”€ whiteboard/{school_id}/{session_id}/
â”œâ”€â”€ documents/{school_id}/{category}/
â”œâ”€â”€ avatars/{user_id}/
â””â”€â”€ system/logs/
```

---

## ğŸ¨ UI/UXè¨­è¨ˆ

### ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
```css
:root {
  /* ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼ï¼ˆã‚³ãƒ¼ãƒ©ãƒ«ã‚ªãƒ¬ãƒ³ã‚¸ï¼‰ */
  --primary: #FF7F50;
  --primary-light: #FFB07A;
  --primary-dark: #E55A2B;
  
  /* ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚«ãƒ©ãƒ¼ï¼ˆã‚·ãƒ¼ã‚°ãƒªãƒ¼ãƒ³ï¼‰ */
  --secondary: #20B2AA;
  --secondary-light: #48D1CC;
  --secondary-dark: #008B8B;
  
  /* ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ */
  --accent: #FFD700;
  --accent-light: #FFEC8C;
  --accent-dark: #DAA520;
  
  /* æ©Ÿèƒ½åˆ¥ã‚«ãƒ©ãƒ¼ */
  --success: #32CD32;
  --warning: #FFA500;
  --error: #DC143C;
  --info: #4682B4;
  
  /* èƒŒæ™¯ãƒ»ãƒ†ã‚­ã‚¹ãƒˆ */
  --background: #fdf8f0;      /* ãƒ¡ã‚¤ãƒ³èƒŒæ™¯è‰² */
  --surface: #FFFFFF;         /* ã‚«ãƒ¼ãƒ‰èƒŒæ™¯ */
  --text-primary: #2F1B14;    /* ãƒ¡ã‚¤ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ */
  --text-secondary: #8B4513;  /* ã‚µãƒ–ãƒ†ã‚­ã‚¹ãƒˆ */
  --border: #DEB887;          /* ãƒœãƒ¼ãƒ€ãƒ¼ */
  --shadow: rgba(255, 127, 80, 0.2); /* ã‚·ãƒ£ãƒ‰ã‚¦ */
}

/* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚¿ã‚¤ãƒ« */
.btn-primary {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  color: white;
  border: none;
  border-radius: 12px;
  padding: 12px 24px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px var(--shadow);
}

.card {
  background: var(--surface);
  border-radius: 16px;
  padding: 24px;
  box-shadow: 0 4px 16px rgba(255, 127, 80, 0.1);
  border: 1px solid var(--border);
  transition: all 0.3s ease;
}

.dashboard-tile {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  color: white;
  border-radius: 20px;
  padding: 32px 24px;
  text-align: center;
  transition: all 0.3s ease;
  cursor: pointer;
}

.page-background {
  background-color: var(--background);
  min-height: 100vh;
}
```

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
```
ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼ˆ1024px+ï¼‰: 4Ã—3 å¤§å‹ã‚¿ã‚¤ãƒ«ã‚°ãƒªãƒƒãƒ‰
ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆ768-1023pxï¼‰: 3Ã—4 ä¸­å‹ã‚¿ã‚¤ãƒ«ã‚°ãƒªãƒƒãƒ‰  
ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ï¼ˆ~767pxï¼‰: 2Ã—6 å°å‹ã‚¿ã‚¤ãƒ«ã‚°ãƒªãƒƒãƒ‰

å…±é€šè¨­è¨ˆ:
- ã‚¿ãƒƒãƒæ“ä½œå¯¾å¿œï¼ˆ44pxä»¥ä¸Šã®ã‚¿ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼‰
- èª­ã¿ã‚„ã™ã„ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºï¼ˆ16pxä»¥ä¸Šï¼‰
- è‰²è¦šå¤šæ§˜æ€§å¯¾å¿œï¼ˆå½¢çŠ¶ãƒ»ã‚¢ã‚¤ã‚³ãƒ³ã§ã®è£œåŠ©æƒ…å ±ï¼‰
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ
```

---

## ğŸ—ºï¸ ã‚µã‚¤ãƒˆãƒãƒƒãƒ—

### URLæ§‹é€ 
```
/ (ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ç´¹ä»‹)
/login (Auth0ãƒ­ã‚°ã‚¤ãƒ³)
/home/* (ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³)
/admin/* (ç®¡ç†è€…å°‚ç”¨)
/help (ãƒ˜ãƒ«ãƒ—ãƒ»ã‚µãƒãƒ¼ãƒˆ)
```

### ä¸»è¦ãƒšãƒ¼ã‚¸æ§‹æˆ

#### ç”Ÿå¾’ã‚¨ãƒªã‚¢ï¼ˆ/home/*ï¼‰
```
/home/dashboard                       # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
/home/materials                       # æ•™æä¸€è¦§
/home/assignments                     # èª²é¡Œä¸€è¦§
/home/assignments/todo                # æœªæå‡ºèª²é¡Œ
/home/assignments/{id}                # èª²é¡Œè©³ç´°ãƒ»æå‡º
/home/grades                          # æˆç¸¾ç¢ºèª
/home/attendance                      # å‡ºå¸­ç¢ºèª
/home/chat                           # ãƒãƒ£ãƒƒãƒˆï¼ˆå­¦æ ¡å˜ä½ï¼‰
/home/chat/class                     # ã‚¯ãƒ©ã‚¹ãƒãƒ£ãƒƒãƒˆ
/home/chat/grade                     # å­¦å¹´ãƒãƒ£ãƒƒãƒˆ
/home/chat/subject/{subject}         # æ•™ç§‘åˆ¥ãƒãƒ£ãƒƒãƒˆ
/home/notes                          # å­¦ç¿’ãƒãƒ¼ãƒˆ
/home/notes/{id}                     # ãƒãƒ¼ãƒˆç·¨é›†
/home/whiteboard                     # ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰å‚åŠ 
/home/schedule                       # æ™‚é–“å‰²
/home/gamification                   # ãƒã‚¤ãƒ³ãƒˆãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°
/home/notifications                  # é€šçŸ¥
/home/profile                        # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
```

#### æ•™å¸«ã‚¨ãƒªã‚¢ï¼ˆ/home/teacher/*ï¼‰
```
/home/teacher/dashboard               # æ•™å¸«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
/home/teacher/users                   # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼ˆè‡ªæ ¡ï¼‰
/home/teacher/users/students          # ç”Ÿå¾’ç®¡ç†
/home/teacher/users/register          # ç”Ÿå¾’ç™»éŒ²
/home/teacher/materials               # æ•™æç®¡ç†
/home/teacher/assignments             # èª²é¡Œç®¡ç†
/home/teacher/grades                  # æˆç¸¾ç®¡ç†
/home/teacher/attendance              # å‡ºå¸­ç®¡ç†
/home/teacher/students                # ç”Ÿå¾’è©³ç´°ç®¡ç†
/home/teacher/whiteboard              # ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ç®¡ç†
/home/teacher/admin-tasks             # æ ¡å‹™æ¥­å‹™ï¼ˆè‡ªæ ¡ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
/home/teacher/meetings                # ä¼šè­°ç®¡ç†
/home/teacher/documents               # æ–‡æ›¸ç®¡ç†
/home/teacher/applications            # ç”³è«‹æ¥­å‹™
/home/teacher/parents                 # ä¿è­·è€…é€£æº
/home/teacher/analytics               # çµ±è¨ˆåˆ†æ
```

#### ç®¡ç†è€…ã‚¨ãƒªã‚¢ï¼ˆ/admin/*ï¼‰
```
/admin/dashboard                      # ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
/admin/schools                        # å­¦æ ¡ç®¡ç†
/admin/schools/{id}/settings          # å­¦æ ¡åˆ¥è¨­å®š
/admin/users                          # å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
/admin/users/approvals                # ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èª
/admin/analytics                      # å…¨ä½“çµ±è¨ˆåˆ†æ
/admin/system                         # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†
/admin/system/settings                # ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
/admin/audit                          # ç›£æŸ»ãƒ­ã‚°
/admin/maintenance                    # ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
```

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­è¨ˆ

### å€‹äººæƒ…å ±ä¿è­·æ³•å¯¾å¿œ
```sql
-- ãƒ‡ãƒ¼ã‚¿ä¿å­˜æœŸé™ç®¡ç†
CREATE TABLE data_retention_policies (
    id BIGSERIAL PRIMARY KEY,
    table_name TEXT NOT NULL,
    data_type TEXT NOT NULL,
    retention_days INTEGER NOT NULL,
    auto_delete BOOLEAN DEFAULT true,
    last_cleanup TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW()
);

INSERT INTO data_retention_policies VALUES
(1, 'messages', 'chat_log', 365, true, NOW()),
(2, 'grades', 'student_record', 1825, true, NOW()),
(3, 'system_logs', 'system_log', 180, true, NOW()),
(4, 'learning_notes', 'student_notes', 1095, true, NOW());

-- Row Level Security
CREATE POLICY school_data_isolation ON users
    FOR ALL TO authenticated_user
    USING (
        CASE
            WHEN get_current_user_role() = 'admin' THEN TRUE
            ELSE school_id = get_current_user_school_id()
        END
    );
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼
```go
func SecurityHeaders(next http.Handler) http.Handler {
    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
        w.Header().Set("X-Content-Type-Options", "nosniff")
        w.Header().Set("X-Frame-Options", "DENY")
        w.Header().Set("X-XSS-Protection", "1; mode=block")
        w.Header().Set("Strict-Transport-Security", "max-age=31536000; includeSubDomains")
        w.Header().Set("Content-Security-Policy", "default-src 'self'")
        w.Header().Set("Referrer-Policy", "strict-origin-when-cross-origin")
        next.ServeHTTP(w, r)
    })
}
```

---

## ğŸ“Š ç›£è¦–ãƒ»é‹ç”¨è¨­è¨ˆ

### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
```go
func HealthHandler(w http.ResponseWriter, r *http.Request) {
    health := HealthStatus{
        Status:      "healthy",
        Environment: os.Getenv("APP_ENV"),
        Version:     "1.0.0",
        Theme:       "coral",
        Background:  "#fdf8f0",
        Services: map[string]string{
            "database": checkDatabase(),
            "redis":    checkRedis(),
            "storage":  checkStorage(),
            "auth0":    checkAuth0(),
        },
        Timestamp: time.Now(),
    }
    
    w.Header().Set("Content-Type", "application/json")
    json.NewEncoder(w).Encode(health)
}
```

### Redisæ´»ç”¨è¨­è¨ˆ
```
ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚­ãƒ¼æ§‹é€ :
user:profile:{user_id}              # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆ1æ™‚é–“ï¼‰
user:permissions:{user_id}          # ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ï¼ˆ1æ™‚é–“ï¼‰
school:users:{school_id}            # å­¦æ ¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¹ãƒˆï¼ˆ2æ™‚é–“ï¼‰
class:students:{class_id}           # ã‚¯ãƒ©ã‚¹ç”Ÿå¾’ãƒªã‚¹ãƒˆï¼ˆ2æ™‚é–“ï¼‰
course:materials:{course_id}        # æˆæ¥­æ•™æãƒªã‚¹ãƒˆï¼ˆ6æ™‚é–“ï¼‰
assignments:active:{user_id}        # ã‚¢ã‚¯ãƒ†ã‚£ãƒ–èª²é¡Œï¼ˆ5åˆ†ï¼‰
chat:rooms:{user_id}                # å‚åŠ ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ï¼ˆ30åˆ†ï¼‰
notifications:unread:{user_id}      # æœªèª­é€šçŸ¥ï¼ˆ5åˆ†ï¼‰
ranking:points:{class_id}           # ãƒã‚¤ãƒ³ãƒˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆ12æ™‚é–“ï¼‰
whiteboard:session:{session_id}     # ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ï¼‰
notes:recent:{user_id}              # æœ€è¿‘ã®ãƒãƒ¼ãƒˆï¼ˆ30åˆ†ï¼‰
```

---

## ğŸ“ æ–°æ©Ÿèƒ½è¨­è¨ˆï¼ˆè¿½åŠ è¦ä»¶ï¼‰

### ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰æ©Ÿèƒ½
```go
// WebSocketå®Ÿè£…
type WhiteboardHub struct {
    sessions   map[int64]*WhiteboardSession
    register   chan *Client
    unregister chan *Client
    broadcast  chan []byte
}

type WhiteboardEvent struct {
    Type      string      `json:"type"`
    SessionID int64       `json:"session_id"`
    UserID    int64       `json:"user_id"`
    Data      EventData   `json:"data"`
    Color     string      `json:"color"`
    Tool      string      `json:"tool"`
    Timestamp time.Time   `json:"timestamp"`
}
```

### ãƒãƒ¼ãƒˆæ©Ÿèƒ½
```tsx
// Reactå®Ÿè£…ä¾‹
const NoteEditor = ({ noteId, courseId }) => {
  const [content, setContent] = useState('');
  const [coverColor, setCoverColor] = useState('#FF7F50');
  
  const coralThemeColors = [
    '#FF7F50', '#20B2AA', '#FFD700', '#32CD32',
    '#FF6B6B', '#4ECDC4', '#FECA57', '#96CEB4'
  ];
  
  return (
    <div className="h-screen flex flex-col" style={{backgroundColor: '#fdf8f0'}}>
      <NoteHeader 
        title={title}
        coverColor={coverColor}
        availableColors={coralThemeColors}
        onColorChange={setCoverColor}
      />
      <MarkdownEditor 
        content={content}
        onChange={setContent}
        theme={{
          primaryColor: coverColor,
          backgroundColor: '#FFFFFF',
          borderColor: '#DEB887'
        }}
      />
    </div>
  );
};
```

### æ•™å“¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
```go
// è‡ªæ ¡ç”Ÿå¾’ä½œæˆAPI
func CreateStudentByTeacher(w http.ResponseWriter, r *http.Request) {
    claims := r.Context().Value("user_claims").(*UserClaims)
    
    // æ•™å“¡æ¨©é™ãƒã‚§ãƒƒã‚¯
    if claims.Role != "teacher" && claims.Role != "school_admin" && claims.Role != "admin" {
        http.Error(w, "Forbidden", http.StatusForbidden)
        return
    }
    
    var req CreateStudentRequest
    json.NewDecoder(r.Body).Decode(&req)
    
    // è‡ªæ ¡åˆ¶ç´„
    req.SchoolID = claims.SchoolID
    req.Role = "student"
    
    student, err := userService.CreateStudent(req)
    if err != nil {
        http.Error(w, "Student creation failed", http.StatusInternalServerError)
        return
    }
    
    json.NewEncoder(w).Encode(student)
}
```

---

## ğŸ“± Next.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èªè¨¼å®Ÿè£…

### Auth0çµ±åˆ
```tsx
// app/providers.tsx
import { UserProvider } from '@auth0/nextjs-auth0/client';

export default function Providers({ children }: { children: React.ReactNode }) {
  return (
    <UserProvider>
      <div style={{backgroundColor: '#fdf8f0', minHeight: '100vh'}}>
        {children}
      </div>
    </UserProvider>
  );
}

// ãƒ­ã‚°ã‚¤ãƒ³å®Ÿè£…
export default function LoginPage() {
  return (
    <div className="min-h-screen flex items-center justify-center" 
         style={{background: 'linear-gradient(135deg, #fdf8f0, #f5e6d3)'}}>
      <div className="max-w-md w-full bg-white rounded-2xl shadow-2xl p-8">
        <div className="text-center mb-8">
          <div className="inline-flex items-center justify-center w-16 h-16 rounded-full mb-4"
               style={{backgroundColor: '#FF7F50'}}>
            <span className="text-2xl text-white">ğŸŒ¸</span>
          </div>
          <h1 className="text-3xl font-bold mb-2" style={{color: '#2F1B14'}}>
            Bloomia
          </h1>
          <p className="text-lg" style={{color: '#8B4513'}}>
            ä¸­å­¦æ ¡å‘ã‘å­¦ç¿’ãƒ»å…¬å‹™æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ 
          </p>
        </div>
        
        <a
          href="/api/auth/login"
          className="w-full py-4 px-6 rounded-xl font-semibold text-white text-center block transition-all duration-300"
          style={{
            backgroundColor: '#FF7F50',
            boxShadow: '0 8px 20px rgba(255, 127, 80, 0.3)'
          }}
        >
          å­¦æ ¡ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
        </a>
      </div>
    </div>
  );
}
```

---

## ğŸ”§ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/your-org/bloomia.git
cd bloomia

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env.development

# Dockerç’°å¢ƒèµ·å‹•
docker-compose up -d

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–
cd backend && go run cmd/migrate/main.go

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•
cd frontend && npm install && npm run dev

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰èµ·å‹•
cd backend && go run cmd/server/main.go
```

### å¿…è¦ãªç’°å¢ƒå¤‰æ•°
```bash
# .env.development
DATABASE_URL=postgresql://postgres:password@localhost:5432/bloomia_dev
REDIS_URL=redis://localhost:6379
AUTH0_DOMAIN=bloomia-dev.auth0.com
AUTH0_CLIENT_ID=your-dev-client-id
AUTH0_CLIENT_SECRET=your-dev-client-secret
NEXT_PUBLIC_API_URL=http://localhost:8080
DEFAULT_BACKGROUND_COLOR=#fdf8f0
DEFAULT_THEME_COLOR=#FF7F50
```

---

## ğŸ“‹ å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ 
- [ ] Auth0èªè¨¼çµ±åˆï¼ˆã‚³ãƒ¼ãƒ©ãƒ«ãƒ†ãƒ¼ãƒå¯¾å¿œï¼‰
- [ ] PostgreSQL + Row Level Security
- [ ] Redis ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- [ ] Railway Volumes ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
- [ ] Next.js App Routerè¨­å®šï¼ˆèƒŒæ™¯è‰²#fdf8f0é©ç”¨ï¼‰

### æ ¸å¿ƒæ©Ÿèƒ½
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ãƒ»æ¨©é™åˆ¶å¾¡ï¼ˆæ•™å“¡ã«ã‚ˆã‚‹è‡ªæ ¡ç®¡ç†ï¼‰
- [ ] æ•™æãƒ»èª²é¡Œç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- [ ] æˆç¸¾ãƒ»å‡ºå¸­ç®¡ç†
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆï¼ˆå­¦æ ¡å˜ä½åˆ¶ç´„ï¼‰
- [ ] é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 

### æ–°è¦æ©Ÿèƒ½
- [ ] ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æç”»ï¼‰
- [ ] ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆMarkdownå¯¾å¿œï¼‰
- [ ] å…¬å‹™æ”¯æ´ï¼ˆæ•™å“¡ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
- [ ] ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚³ãƒ¼ãƒ©ãƒ«ãƒ†ãƒ¼ãƒï¼‰

### UI/UX
- [ ] ã‚³ãƒ¼ãƒ©ãƒ«ï¼ˆ#FF7F50ï¼‰ãƒ†ãƒ¼ãƒé©ç”¨
- [ ] èƒŒæ™¯è‰²ï¼ˆ#fdf8f0ï¼‰å…¨ä½“é©ç”¨
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- [ ] ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–ï¼ˆå€‹äººæƒ…å ±ï¼‰
- [ ] ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼ˆå­¦æ ¡åˆ¥åˆ†é›¢ï¼‰
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼
- [ ] ç›£æŸ»ãƒ­ã‚°ãƒ»è‡ªå‹•å‰Šé™¤æ©Ÿèƒ½

### é‹ç”¨ãƒ»ç›£è¦–
- [ ] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ»ç›£è¦–
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©æ—§
- [ ] ã‚¨ãƒ©ãƒ¼è¿½è·¡ãƒ»ãƒ­ã‚°ç®¡ç†